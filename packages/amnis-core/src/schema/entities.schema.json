{
  "$id": "entities",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "StateCreator": {
      "type": "object",
      "properties": {
        "audit": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Audit"
          }
        },
        "contact": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Contact"
          }
        },
        "history": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/History"
          }
        },
        "image": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Image"
          }
        },
        "locale": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Locale"
          }
        },
        "log": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Log"
          }
        },
        "note": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Note"
          }
        },
        "profile": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Profile"
          }
        },
        "role": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Role"
          }
        },
        "service": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Service"
          }
        },
        "system": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/System"
          }
        },
        "user": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/User"
          }
        },
        "session": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Session"
          }
        },
        "video": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Video"
          }
        },
        "website": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Website"
          }
        }
      },
      "additionalProperties": false
    },
    "Audit": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "action": {
          "type": "string",
          "description": "Action attempted"
        },
        "completed": {
          "type": "boolean",
          "description": "If the action was completed."
        },
        "inputBody": {
          "description": "Input body data."
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject id of the audit."
        },
        "ip": {
          "type": "string",
          "description": "IP address of the subject."
        },
        "location": {
          "type": "string",
          "description": "Location of the subject."
        }
      },
      "required": [
        "$id",
        "action",
        "completed"
      ],
      "additionalProperties": false,
      "description": "A data structure for audit information."
    },
    "EntityCreator": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        }
      },
      "required": [
        "$id"
      ],
      "additionalProperties": false,
      "description": "Subset interface for an entity."
    },
    "UID": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "Contact": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "name": {
          "type": "string",
          "description": "Name (or title) of the contact",
          "title": "Name"
        },
        "description": {
          "type": "string",
          "description": "Details about the contact."
        },
        "phones": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Phone numbers. First item in the array is the primary phone number.",
          "title": "Phone Numbers"
        },
        "emails": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Contact emails. First item in the array is the primary email.",
          "title": "E-Mail Addresses"
        },
        "socials": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/SURL"
          },
          "description": "Contact's social urls."
        }
      },
      "required": [
        "$id",
        "emails",
        "name",
        "phones",
        "socials"
      ],
      "additionalProperties": false,
      "description": "Contact entity"
    },
    "SURL": {
      "type": "string",
      "description": "A string that represents a URL. Named SURL (String URL) so it's not confused with the URL object type."
    },
    "History": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "The subject that was updated."
        },
        "changes": {
          "type": "object",
          "additionalProperties": false,
          "description": "The state update record that was performed."
        }
      },
      "required": [
        "$id",
        "$subject",
        "changes"
      ],
      "additionalProperties": false,
      "description": "Historical updates to data."
    },
    "Image": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "title": {
          "type": "string",
          "description": "Title of the image."
        },
        "slug": {
          "type": "string",
          "description": "The slug for referencing the image."
        },
        "mimetype": {
          "type": "string",
          "enum": [
            "image/jpeg",
            "image/gif",
            "image/png",
            "image/bmp",
            "image/svg+xml",
            "image/webp",
            "image/tiff",
            "video/mp4",
            "video/mpeg",
            "video/webm",
            "audio/mpeg",
            "audio/ogg",
            "audio/wav",
            "audio/webm",
            "application/pdf",
            "text/plain"
          ],
          "description": "Mime type of the file"
        },
        "size": {
          "type": "number",
          "description": "Size of the media on disk in bytes."
        },
        "description": {
          "type": "string",
          "description": "Description for the image."
        },
        "author": {
          "type": "string",
          "description": "String name of the media author."
        },
        "$author": {
          "$ref": "#/definitions/UID%3CProfile%3E",
          "description": "Profile identifier to the author."
        },
        "extension": {
          "type": "string",
          "enum": [
            "webp",
            "jpeg",
            "png",
            "bmp",
            "tiff"
          ],
          "description": "image extention type."
        },
        "width": {
          "type": "number",
          "description": "Original width in pixels."
        },
        "height": {
          "type": "number",
          "description": "Original height in pixels."
        },
        "aspect": {
          "type": "number",
          "description": "Aspect ratio calculation (width / height)."
        }
      },
      "required": [
        "$id",
        "aspect",
        "extension",
        "height",
        "mimetype",
        "size",
        "slug",
        "title",
        "width"
      ],
      "additionalProperties": false
    },
    "File": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "title": {
          "type": "string",
          "description": "Title of the image."
        },
        "slug": {
          "type": "string",
          "description": "The slug for referencing the image."
        },
        "mimetype": {
          "type": "string",
          "enum": [
            "image/jpeg",
            "image/gif",
            "image/png",
            "image/bmp",
            "image/svg+xml",
            "image/webp",
            "image/tiff",
            "video/mp4",
            "video/mpeg",
            "video/webm",
            "audio/mpeg",
            "audio/ogg",
            "audio/wav",
            "audio/webm",
            "application/pdf",
            "text/plain"
          ],
          "description": "Mime type of the file"
        },
        "size": {
          "type": "number",
          "description": "Size of the media on disk in bytes."
        },
        "description": {
          "type": "string",
          "description": "Description for the image."
        },
        "author": {
          "type": "string",
          "description": "String name of the media author."
        },
        "$author": {
          "$ref": "#/definitions/UID%3CProfile%3E",
          "description": "Profile identifier to the author."
        }
      },
      "required": [
        "$id",
        "mimetype",
        "size",
        "slug",
        "title"
      ],
      "additionalProperties": false,
      "description": "An abstract file type intended to be extended my more specific types: Image, Video, and Audio."
    },
    "UID<Profile>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "Locale": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "code": {
          "type": "string",
          "description": "Two-character language code.",
          "minLength": 2,
          "maxLength": 2
        },
        "set": {
          "type": "string",
          "description": "Name of the translation set for organization.",
          "minLength": 1,
          "maxLength": 32
        },
        "t": {
          "$ref": "#/definitions/LocaleTranslation",
          "description": "The language key value translations."
        },
        "v": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Variables that can be inserted into translation text."
        }
      },
      "required": [
        "$id",
        "code",
        "set",
        "t",
        "v"
      ],
      "additionalProperties": false,
      "description": "Locale entity"
    },
    "LocaleTranslation": {
      "type": "object",
      "additionalProperties": false,
      "description": "Record of locale translations."
    },
    "Log": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "level": {
          "$ref": "#/definitions/LogLevel",
          "description": "Level of the log."
        },
        "title": {
          "type": "string",
          "description": "Title of the log."
        },
        "description": {
          "type": "string",
          "description": "Description of the log."
        },
        "system": {
          "type": "string",
          "description": "System this log is from."
        },
        "$invoker": {
          "$ref": "#/definitions/UID%3CUser%3E",
          "description": "UID to a user that invoked the log."
        }
      },
      "required": [
        "$id",
        "description",
        "level",
        "system",
        "title"
      ],
      "additionalProperties": false,
      "description": "An entity object that contains log information."
    },
    "LogLevel": {
      "type": "string",
      "enum": [
        "fatal",
        "error",
        "success",
        "warn",
        "info",
        "debug"
      ],
      "description": "Log levels."
    },
    "UID<User>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "Note": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject this note is attached to."
        },
        "text": {
          "type": "string",
          "description": "Textual content of the note."
        }
      },
      "required": [
        "$id",
        "$subject",
        "text"
      ],
      "additionalProperties": false,
      "description": "A message to aid memory about the historic change."
    },
    "Profile": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "$user": {
          "$ref": "#/definitions/UID%3CUser%3E",
          "description": "User this profile is associated with."
        },
        "nameDisplay": {
          "type": "string",
          "description": "Display name for the profile."
        },
        "nameGiven": {
          "type": "string",
          "description": "Given/First name"
        },
        "nameFamily": {
          "type": "string",
          "description": "Family/Last name"
        },
        "birthDate": {
          "$ref": "#/definitions/DateJSON",
          "description": "Date of birth."
        },
        "title": {
          "type": "string",
          "description": "Title for work or otherwise."
        },
        "$contact": {
          "$ref": "#/definitions/UID%3CContact%3E",
          "description": "Profile Contact."
        },
        "organization": {
          "type": "string",
          "description": "Organization profile is a part of."
        },
        "avatar": {
          "$ref": "#/definitions/SURL",
          "description": "Avatar string url to an image."
        }
      },
      "required": [
        "$id",
        "$user",
        "nameDisplay"
      ],
      "additionalProperties": false,
      "description": "Profile entity"
    },
    "DateJSON": {
      "type": "string",
      "description": "A string that represents a JSON Date."
    },
    "UID<Contact>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "Role": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "name": {
          "type": "string",
          "description": "Name of the license."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the license."
        },
        "color": {
          "type": "string",
          "description": "Color that represents this role."
        },
        "grants": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GrantString"
          },
          "description": "Permissions this license grants."
        }
      },
      "required": [
        "$id",
        "color",
        "description",
        "grants",
        "name"
      ],
      "additionalProperties": false,
      "description": "A license is a defined object for granting multiple permissions to perform actions or selections."
    },
    "GrantString": {
      "type": "string",
      "description": "Role grant string."
    },
    "Service": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "name": {
          "description": "Name of the service."
        },
        "description": {
          "type": "string",
          "description": "Description of the service."
        },
        "status": {
          "type": "string",
          "enum": [
            "offline",
            "running",
            "restarting"
          ],
          "description": "Status of the service."
        },
        "dateChecked": {
          "$ref": "#/definitions/DateJSON",
          "description": "Last checked datetime"
        }
      },
      "required": [
        "$id",
        "dateChecked",
        "name",
        "status"
      ],
      "additionalProperties": false,
      "description": "Service entity"
    },
    "System": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "name": {
          "type": "string",
          "description": "Name of the system."
        },
        "sessionExpires": {
          "type": "number",
          "description": "Number in milliseconds that an authentication session should live.",
          "default": 3600000
        },
        "$website": {
          "$ref": "#/definitions/UID%3CWebsite%3E",
          "description": "System's website configurations."
        },
        "$adminRole": {
          "$ref": "#/definitions/UID%3CRole%3E",
          "description": "Role identifier that considers the user an administrator. Administrators have complete control."
        },
        "$execRole": {
          "$ref": "#/definitions/UID%3CRole%3E",
          "description": "Role identifier that considers the user an executive. Executives have second-highest control over a system, just under administrators."
        },
        "$initialRoles": {
          "$ref": "#/definitions/UIDList%3CRole%3E",
          "description": "The initial roles to assign to a user when a new account is created.",
          "default": []
        },
        "$anonymousRoles": {
          "$ref": "#/definitions/UIDList%3CRole%3E",
          "description": "Anonymous access permissions. These are roles used when no authotization is provided by the client.",
          "default": []
        }
      },
      "required": [
        "$adminRole",
        "$anonymousRoles",
        "$execRole",
        "$id",
        "$initialRoles",
        "$website",
        "name",
        "sessionExpires"
      ],
      "additionalProperties": false
    },
    "UID<Website>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "UID<Role>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "UIDList<Role>": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/UID%3CRole%3E"
      },
      "description": "An array of identifiers."
    },
    "User": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "name": {
          "type": "string",
          "description": "Name for the user.",
          "minLength": 3,
          "maxLength": 64
        },
        "publicKey": {
          "type": "object",
          "properties": {
            "alg": {
              "type": "string"
            },
            "crv": {
              "type": "string"
            },
            "d": {
              "type": "string"
            },
            "dp": {
              "type": "string"
            },
            "dq": {
              "type": "string"
            },
            "e": {
              "type": "string"
            },
            "ext": {
              "type": "boolean"
            },
            "k": {
              "type": "string"
            },
            "key_ops": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "kty": {
              "type": "string"
            },
            "n": {
              "type": "string"
            },
            "oth": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "d": {
                    "type": "string"
                  },
                  "r": {
                    "type": "string"
                  },
                  "t": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            },
            "p": {
              "type": "string"
            },
            "q": {
              "type": "string"
            },
            "qi": {
              "type": "string"
            },
            "use": {
              "type": "string"
            },
            "x": {
              "type": "string"
            },
            "y": {
              "type": "string"
            }
          },
          "additionalProperties": false,
          "description": "User's public key for verifying signatures."
        },
        "email": {
          "type": "string",
          "description": "Email address",
          "pattern": "^[\\w.-]+@([\\w-]+\\.)+[\\w-]{2,4}$",
          "maxLength": 64
        },
        "emailVerified": {
          "type": "boolean",
          "description": "If the user email is verified."
        },
        "phone": {
          "type": "string",
          "description": "Phone number",
          "maxLength": 24
        },
        "phoneVerified": {
          "type": "boolean",
          "description": "If the user phone number is verified."
        },
        "password": {
          "type": "string",
          "description": "User password. A null password means another form of auth must be used.",
          "minLength": 6,
          "maxLength": 64
        },
        "admin": {
          "type": "boolean",
          "description": "If this is an administrative account."
        },
        "$credentials": {
          "$ref": "#/definitions/UIDList%3CCredential%3E",
          "description": "Credentials this user has registered.",
          "default": []
        },
        "$roles": {
          "$ref": "#/definitions/UIDList%3CRole%3E",
          "description": "Roles this user has been given.",
          "default": []
        },
        "$permits": {
          "$ref": "#/definitions/UIDList%3CPermit%3E",
          "description": "Special-case permits this user has been bestowed.",
          "default": []
        }
      },
      "required": [
        "$credentials",
        "$id",
        "$permits",
        "$roles",
        "name"
      ],
      "additionalProperties": false,
      "description": "Data associated to a User."
    },
    "UIDList<Credential>": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/UID%3CCredential%3E"
      },
      "description": "An array of identifiers."
    },
    "UID<Credential>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "UIDList<Permit>": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/UID%3CPermit%3E"
      },
      "description": "An array of identifiers."
    },
    "UID<Permit>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "Session": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject of the session. Typically a user id."
        },
        "iat": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Possible \"Issued At\" property when decoding."
        },
        "exp": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Expiration date (numeric)."
        },
        "admin": {
          "type": "boolean",
          "description": "Flag that determines if this is an administrative session."
        },
        "name": {
          "type": "string",
          "description": "Display name."
        },
        "avatar": {
          "anyOf": [
            {
              "$ref": "#/definitions/SURL"
            },
            {
              "type": "null"
            }
          ],
          "description": "Avatar image url."
        }
      },
      "required": [
        "$id",
        "$subject",
        "admin",
        "avatar",
        "exp",
        "name"
      ],
      "additionalProperties": false,
      "description": "A session object. For stateless servers, it is recommended to store session data in *SECURE* HTTP cookies only."
    },
    "DateNumeric": {
      "type": "number",
      "description": "A string that represents a JSON Date."
    },
    "Video": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "title": {
          "type": "string",
          "description": "Title of the image."
        },
        "slug": {
          "type": "string",
          "description": "The slug for referencing the image."
        },
        "mimetype": {
          "type": "string",
          "enum": [
            "image/jpeg",
            "image/gif",
            "image/png",
            "image/bmp",
            "image/svg+xml",
            "image/webp",
            "image/tiff",
            "video/mp4",
            "video/mpeg",
            "video/webm",
            "audio/mpeg",
            "audio/ogg",
            "audio/wav",
            "audio/webm",
            "application/pdf",
            "text/plain"
          ],
          "description": "Mime type of the file"
        },
        "size": {
          "type": "number",
          "description": "Size of the media on disk in bytes."
        },
        "description": {
          "type": "string",
          "description": "Description for the image."
        },
        "author": {
          "type": "string",
          "description": "String name of the media author."
        },
        "$author": {
          "$ref": "#/definitions/UID%3CProfile%3E",
          "description": "Profile identifier to the author."
        },
        "extension": {
          "type": "string",
          "enum": [
            "webm",
            "mp4",
            "mpeg",
            "mov"
          ],
          "description": "Video format type."
        },
        "width": {
          "type": "number",
          "description": "Original width in pixels."
        },
        "height": {
          "type": "number",
          "description": "Original height in pixels."
        },
        "aspect": {
          "type": "number",
          "description": "Aspect ratio calculation (width / height)."
        },
        "duration": {
          "type": "number",
          "description": "Duration length of the video in seconds."
        }
      },
      "required": [
        "$id",
        "aspect",
        "duration",
        "extension",
        "height",
        "mimetype",
        "size",
        "slug",
        "title",
        "width"
      ],
      "additionalProperties": false
    },
    "Website": {
      "type": "object",
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID",
          "description": "All objects that can be composed into an entity must have an identifier."
        },
        "name": {
          "type": "string",
          "description": "Name of the website."
        },
        "nameShort": {
          "type": "string",
          "description": "Sorter name of the website. Important for smaller displays."
        },
        "url": {
          "type": "string",
          "description": "Primary URL to the website."
        },
        "$navigation": {
          "$ref": "#/definitions/UIDTree%3CRoute%3E",
          "description": "Primary navigational routes."
        },
        "title": {
          "type": "string",
          "description": "Default title for the website. This is for meta data and the text seen on the browser tab."
        },
        "$logo": {
          "$ref": "#/definitions/UID%3CImage%3E",
          "description": "UID to the image used for the logo."
        },
        "$favicon": {
          "$ref": "#/definitions/UID%3CImage%3E",
          "description": "Link the website's favicon"
        },
        "$contacts": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/UID%3CContact%3E"
          },
          "description": "Contacts that should be listed on the website."
        },
        "socials": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/SURL"
          },
          "description": "List of the social network links."
        }
      },
      "required": [
        "$contacts",
        "$id",
        "$navigation",
        "name",
        "socials",
        "url"
      ],
      "additionalProperties": false
    },
    "UIDTree<Route>": {
      "type": "array",
      "items": {
        "type": "array",
        "minItems": 2,
        "items": [
          {
            "$ref": "#/definitions/UID%3CRoute%3E"
          },
          {
            "anyOf": [
              {
                "$ref": "#/definitions/UID%3CRoute%3E"
              },
              {
                "type": "null"
              }
            ]
          }
        ],
        "maxItems": 2
      },
      "description": "A record that links indentifiers in directory tree fashion."
    },
    "UID<Route>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "UID<Image>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "StateUpdater": {
      "type": "object",
      "properties": {
        "audit": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CAudit%3E"
          }
        },
        "contact": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CContact%3E"
          }
        },
        "history": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CHistory%3E"
          }
        },
        "image": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CImage%3E"
          }
        },
        "locale": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CLocale%3E"
          }
        },
        "log": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CLog%3E"
          }
        },
        "note": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CNote%3E"
          }
        },
        "profile": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CProfile%3E"
          }
        },
        "role": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CRole%3E"
          }
        },
        "service": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CService%3E"
          }
        },
        "system": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CSystem%3E"
          }
        },
        "user": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CUser%3E"
          }
        },
        "session": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CSession%3E"
          }
        },
        "video": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CVideo%3E"
          }
        },
        "website": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdater%3CWebsite%3E"
          }
        }
      },
      "additionalProperties": false
    },
    "EntityUpdater<Audit>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CAudit%3E"
        },
        "action": {
          "type": "string",
          "description": "Action attempted"
        },
        "completed": {
          "type": "boolean",
          "description": "If the action was completed."
        },
        "inputBody": {
          "description": "Input body data."
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject id of the audit."
        },
        "ip": {
          "type": "string",
          "description": "IP address of the subject."
        },
        "location": {
          "type": "string",
          "description": "Location of the subject."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "UID<Audit>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "EntityUpdater<Contact>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CContact%3E"
        },
        "name": {
          "type": "string",
          "description": "Name (or title) of the contact",
          "title": "Name"
        },
        "description": {
          "type": "string",
          "description": "Details about the contact."
        },
        "phones": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Phone numbers. First item in the array is the primary phone number.",
          "title": "Phone Numbers"
        },
        "emails": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Contact emails. First item in the array is the primary email.",
          "title": "E-Mail Addresses"
        },
        "socials": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/SURL"
          },
          "description": "Contact's social urls."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "EntityUpdater<History>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CHistory%3E"
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "The subject that was updated."
        },
        "changes": {
          "type": "object",
          "additionalProperties": false,
          "description": "The state update record that was performed."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "UID<History>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "EntityUpdater<Image>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CImage%3E"
        },
        "extension": {
          "type": "string",
          "enum": [
            "webp",
            "jpeg",
            "png",
            "bmp",
            "tiff"
          ],
          "description": "image extention type."
        },
        "width": {
          "type": "number",
          "description": "Original width in pixels."
        },
        "height": {
          "type": "number",
          "description": "Original height in pixels."
        },
        "aspect": {
          "type": "number",
          "description": "Aspect ratio calculation (width / height)."
        },
        "title": {
          "type": "string",
          "description": "Title of the image."
        },
        "slug": {
          "type": "string",
          "description": "The slug for referencing the image."
        },
        "mimetype": {
          "type": "string",
          "enum": [
            "image/jpeg",
            "image/gif",
            "image/png",
            "image/bmp",
            "image/svg+xml",
            "image/webp",
            "image/tiff",
            "video/mp4",
            "video/mpeg",
            "video/webm",
            "audio/mpeg",
            "audio/ogg",
            "audio/wav",
            "audio/webm",
            "application/pdf",
            "text/plain"
          ],
          "description": "Mime type of the file"
        },
        "size": {
          "type": "number",
          "description": "Size of the media on disk in bytes."
        },
        "description": {
          "type": "string",
          "description": "Description for the image."
        },
        "author": {
          "type": "string",
          "description": "String name of the media author."
        },
        "$author": {
          "$ref": "#/definitions/UID%3CProfile%3E",
          "description": "Profile identifier to the author."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "EntityUpdater<Locale>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CLocale%3E"
        },
        "code": {
          "type": "string",
          "description": "Two-character language code.",
          "minLength": 2,
          "maxLength": 2
        },
        "set": {
          "type": "string",
          "description": "Name of the translation set for organization.",
          "minLength": 1,
          "maxLength": 32
        },
        "t": {
          "$ref": "#/definitions/LocaleTranslation",
          "description": "The language key value translations."
        },
        "v": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Variables that can be inserted into translation text."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "UID<Locale>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "EntityUpdater<Log>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CLog%3E"
        },
        "level": {
          "$ref": "#/definitions/LogLevel",
          "description": "Level of the log."
        },
        "title": {
          "type": "string",
          "description": "Title of the log."
        },
        "description": {
          "type": "string",
          "description": "Description of the log."
        },
        "system": {
          "type": "string",
          "description": "System this log is from."
        },
        "$invoker": {
          "$ref": "#/definitions/UID%3CUser%3E",
          "description": "UID to a user that invoked the log."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "UID<Log>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "EntityUpdater<Note>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CNote%3E"
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject this note is attached to."
        },
        "text": {
          "type": "string",
          "description": "Textual content of the note."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "UID<Note>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "EntityUpdater<Profile>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CProfile%3E"
        },
        "$user": {
          "$ref": "#/definitions/UID%3CUser%3E",
          "description": "User this profile is associated with."
        },
        "nameDisplay": {
          "type": "string",
          "description": "Display name for the profile."
        },
        "nameGiven": {
          "type": "string",
          "description": "Given/First name"
        },
        "nameFamily": {
          "type": "string",
          "description": "Family/Last name"
        },
        "birthDate": {
          "$ref": "#/definitions/DateJSON",
          "description": "Date of birth."
        },
        "title": {
          "type": "string",
          "description": "Title for work or otherwise."
        },
        "$contact": {
          "$ref": "#/definitions/UID%3CContact%3E",
          "description": "Profile Contact."
        },
        "organization": {
          "type": "string",
          "description": "Organization profile is a part of."
        },
        "avatar": {
          "$ref": "#/definitions/SURL",
          "description": "Avatar string url to an image."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "EntityUpdater<Role>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CRole%3E"
        },
        "name": {
          "type": "string",
          "description": "Name of the license."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the license."
        },
        "color": {
          "type": "string",
          "description": "Color that represents this role."
        },
        "grants": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GrantString"
          },
          "description": "Permissions this license grants."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "EntityUpdater<Service>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CService%3E"
        },
        "name": {
          "description": "Name of the service."
        },
        "description": {
          "type": "string",
          "description": "Description of the service."
        },
        "status": {
          "type": "string",
          "enum": [
            "offline",
            "running",
            "restarting"
          ],
          "description": "Status of the service."
        },
        "dateChecked": {
          "$ref": "#/definitions/DateJSON",
          "description": "Last checked datetime"
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "UID<Service>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "EntityUpdater<System>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CSystem%3E"
        },
        "name": {
          "type": "string",
          "description": "Name of the system."
        },
        "sessionExpires": {
          "type": "number",
          "description": "Number in milliseconds that an authentication session should live.",
          "default": 3600000
        },
        "$website": {
          "$ref": "#/definitions/UID%3CWebsite%3E",
          "description": "System's website configurations."
        },
        "$adminRole": {
          "$ref": "#/definitions/UID%3CRole%3E",
          "description": "Role identifier that considers the user an administrator. Administrators have complete control."
        },
        "$execRole": {
          "$ref": "#/definitions/UID%3CRole%3E",
          "description": "Role identifier that considers the user an executive. Executives have second-highest control over a system, just under administrators."
        },
        "$initialRoles": {
          "$ref": "#/definitions/UIDList%3CRole%3E",
          "description": "The initial roles to assign to a user when a new account is created.",
          "default": []
        },
        "$anonymousRoles": {
          "$ref": "#/definitions/UIDList%3CRole%3E",
          "description": "Anonymous access permissions. These are roles used when no authotization is provided by the client.",
          "default": []
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "UID<System>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "EntityUpdater<User>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CUser%3E"
        },
        "name": {
          "type": "string",
          "description": "Name for the user.",
          "minLength": 3,
          "maxLength": 64
        },
        "publicKey": {
          "type": "object",
          "properties": {
            "alg": {
              "type": "string"
            },
            "crv": {
              "type": "string"
            },
            "d": {
              "type": "string"
            },
            "dp": {
              "type": "string"
            },
            "dq": {
              "type": "string"
            },
            "e": {
              "type": "string"
            },
            "ext": {
              "type": "boolean"
            },
            "k": {
              "type": "string"
            },
            "key_ops": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "kty": {
              "type": "string"
            },
            "n": {
              "type": "string"
            },
            "oth": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "d": {
                    "type": "string"
                  },
                  "r": {
                    "type": "string"
                  },
                  "t": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            },
            "p": {
              "type": "string"
            },
            "q": {
              "type": "string"
            },
            "qi": {
              "type": "string"
            },
            "use": {
              "type": "string"
            },
            "x": {
              "type": "string"
            },
            "y": {
              "type": "string"
            }
          },
          "additionalProperties": false,
          "description": "User's public key for verifying signatures."
        },
        "email": {
          "type": "string",
          "description": "Email address",
          "pattern": "^[\\w.-]+@([\\w-]+\\.)+[\\w-]{2,4}$",
          "maxLength": 64
        },
        "emailVerified": {
          "type": "boolean",
          "description": "If the user email is verified."
        },
        "phone": {
          "type": "string",
          "description": "Phone number",
          "maxLength": 24
        },
        "phoneVerified": {
          "type": "boolean",
          "description": "If the user phone number is verified."
        },
        "password": {
          "type": "string",
          "description": "User password. A null password means another form of auth must be used.",
          "minLength": 6,
          "maxLength": 64
        },
        "admin": {
          "type": "boolean",
          "description": "If this is an administrative account."
        },
        "$credentials": {
          "$ref": "#/definitions/UIDList%3CCredential%3E",
          "description": "Credentials this user has registered.",
          "default": []
        },
        "$roles": {
          "$ref": "#/definitions/UIDList%3CRole%3E",
          "description": "Roles this user has been given.",
          "default": []
        },
        "$permits": {
          "$ref": "#/definitions/UIDList%3CPermit%3E",
          "description": "Special-case permits this user has been bestowed.",
          "default": []
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "EntityUpdater<Session>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CSession%3E"
        },
        "$subject": {
          "$ref": "#/definitions/UID",
          "description": "Subject of the session. Typically a user id."
        },
        "iat": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Possible \"Issued At\" property when decoding."
        },
        "exp": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Expiration date (numeric)."
        },
        "admin": {
          "type": "boolean",
          "description": "Flag that determines if this is an administrative session."
        },
        "name": {
          "type": "string",
          "description": "Display name."
        },
        "avatar": {
          "anyOf": [
            {
              "$ref": "#/definitions/SURL"
            },
            {
              "type": "null"
            }
          ],
          "description": "Avatar image url."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "UID<Session>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "EntityUpdater<Video>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CVideo%3E"
        },
        "extension": {
          "type": "string",
          "enum": [
            "webm",
            "mp4",
            "mpeg",
            "mov"
          ],
          "description": "Video format type."
        },
        "width": {
          "type": "number",
          "description": "Original width in pixels."
        },
        "height": {
          "type": "number",
          "description": "Original height in pixels."
        },
        "aspect": {
          "type": "number",
          "description": "Aspect ratio calculation (width / height)."
        },
        "duration": {
          "type": "number",
          "description": "Duration length of the video in seconds."
        },
        "title": {
          "type": "string",
          "description": "Title of the image."
        },
        "slug": {
          "type": "string",
          "description": "The slug for referencing the image."
        },
        "mimetype": {
          "type": "string",
          "enum": [
            "image/jpeg",
            "image/gif",
            "image/png",
            "image/bmp",
            "image/svg+xml",
            "image/webp",
            "image/tiff",
            "video/mp4",
            "video/mpeg",
            "video/webm",
            "audio/mpeg",
            "audio/ogg",
            "audio/wav",
            "audio/webm",
            "application/pdf",
            "text/plain"
          ],
          "description": "Mime type of the file"
        },
        "size": {
          "type": "number",
          "description": "Size of the media on disk in bytes."
        },
        "description": {
          "type": "string",
          "description": "Description for the image."
        },
        "author": {
          "type": "string",
          "description": "String name of the media author."
        },
        "$author": {
          "$ref": "#/definitions/UID%3CProfile%3E",
          "description": "Profile identifier to the author."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    },
    "UID<Video>": {
      "type": "string",
      "description": "A id identifier to another document."
    },
    "EntityUpdater<Website>": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "$id": {
          "$ref": "#/definitions/UID%3CWebsite%3E"
        },
        "name": {
          "type": "string",
          "description": "Name of the website."
        },
        "nameShort": {
          "type": "string",
          "description": "Sorter name of the website. Important for smaller displays."
        },
        "url": {
          "type": "string",
          "description": "Primary URL to the website."
        },
        "$navigation": {
          "$ref": "#/definitions/UIDTree%3CRoute%3E",
          "description": "Primary navigational routes."
        },
        "title": {
          "type": "string",
          "description": "Default title for the website. This is for meta data and the text seen on the browser tab."
        },
        "$logo": {
          "$ref": "#/definitions/UID%3CImage%3E",
          "description": "UID to the image used for the logo."
        },
        "$favicon": {
          "$ref": "#/definitions/UID%3CImage%3E",
          "description": "Link the website's favicon"
        },
        "$contacts": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/UID%3CContact%3E"
          },
          "description": "Contacts that should be listed on the website."
        },
        "socials": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/SURL"
          },
          "description": "List of the social network links."
        }
      },
      "required": [
        "$id"
      ],
      "description": "Subset interface for updating a creator entity"
    }
  }
}
