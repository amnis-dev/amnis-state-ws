{
  "$id": "auth",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$ref": "#/definitions/ApiAuthBodies",
  "definitions": {
    "ApiAuthBodies": {
      "type": "object",
      "properties": {
        "login": {
          "$ref": "#/definitions/ApiAuthLoginBody"
        },
        "pkce": {
          "$ref": "#/definitions/ApiAuthPkceBody"
        },
        "renew": {
          "$ref": "#/definitions/ApiAuthRenewBody"
        },
        "verify": {
          "$ref": "#/definitions/ApiAuthVerifyBody"
        }
      },
      "additionalProperties": false
    },
    "ApiAuthLoginBody": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string"
        },
        "password": {
          "type": "string"
        }
      },
      "required": [
        "username",
        "password"
      ],
      "additionalProperties": false,
      "description": "Payload for a login request."
    },
    "ApiAuthPkceBody": {
      "type": "object",
      "properties": {
        "platform": {
          "type": "string",
          "enum": [
            "microsoft",
            "twitter"
          ]
        },
        "clientId": {
          "type": "string"
        },
        "code": {
          "type": "string"
        },
        "codeVerifier": {
          "type": "string"
        },
        "redirectUri": {
          "type": "string"
        }
      },
      "required": [
        "platform",
        "clientId",
        "code",
        "codeVerifier",
        "redirectUri"
      ],
      "additionalProperties": false,
      "description": "Logs in from a third-party using the data from OpenID PKCE Authorization."
    },
    "ApiAuthRenewBody": {
      "type": "object",
      "additionalProperties": {
        "not": {}
      },
      "description": "Payload for a session and token renewal. Should not have any data in the body."
    },
    "ApiAuthVerifyBody": {
      "type": "object",
      "properties": {
        "token": {
          "$ref": "#/definitions/TokenString"
        }
      },
      "required": [
        "token"
      ],
      "additionalProperties": false,
      "description": "Verifies the validity of a stringified token."
    },
    "TokenString": {
      "type": "string",
      "description": "String representation of a token that contains an encoded jwt."
    }
  }
}
