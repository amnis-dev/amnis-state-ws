{
  "$id": "state",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "StateCreate": {
      "type": "object",
      "properties": {
        "user": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityCreate%3CUser%3E"
          }
        },
        "role": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityCreate%3CRole%3E"
          }
        },
        "session": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityCreate%3CSession%3E"
          }
        },
        "profile": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityCreate%3CProfile%3E"
          }
        }
      },
      "additionalProperties": false
    },
    "EntityCreate<User>": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name for the user.",
          "default": ""
        },
        "email": {
          "type": "string",
          "description": "Email address",
          "default": ""
        },
        "password": {
          "type": [
            "string",
            "null"
          ],
          "description": "User password. A null password means another form of auth must be used.",
          "default": "null"
        },
        "organization": {
          "type": "string",
          "description": "Organization this order belongs to."
        },
        "$roles": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Reference%3CRole%3E"
          },
          "description": "Roles this user has been given."
        },
        "$permits": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Reference%3CPermit%3E"
          },
          "description": "Special-case permits this user has been bestowed."
        }
      },
      "required": [
        "$permits",
        "$roles",
        "email",
        "name",
        "password"
      ],
      "description": "Type for an entity create object."
    },
    "EntityExtension<User>": {
      "$ref": "#/definitions/EntityOmit%3CUser%3E",
      "description": "Type for creation method"
    },
    "EntityOmit<User>": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name for the user.",
          "default": ""
        },
        "email": {
          "type": "string",
          "description": "Email address",
          "default": ""
        },
        "password": {
          "type": [
            "string",
            "null"
          ],
          "description": "User password. A null password means another form of auth must be used.",
          "default": "null"
        },
        "organization": {
          "type": "string",
          "description": "Organization this order belongs to."
        },
        "$roles": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Reference%3CRole%3E"
          },
          "description": "Roles this user has been given."
        },
        "$permits": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Reference%3CPermit%3E"
          },
          "description": "Special-case permits this user has been bestowed."
        }
      },
      "required": [
        "name",
        "email",
        "password",
        "$roles",
        "$permits"
      ],
      "additionalProperties": false,
      "description": "Omitted types of the core Entity interface."
    },
    "Reference<Role>": {
      "type": "string",
      "description": "A id reference to another document."
    },
    "Reference<Permit>": {
      "type": "string",
      "description": "A id reference to another document."
    },
    "Reference": {
      "type": "string",
      "description": "A id reference to another document."
    },
    "EntityCreate<Role>": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the license."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the license."
        },
        "color": {
          "type": "string",
          "description": "Color that represents this role."
        },
        "grants": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GrantString"
          },
          "description": "Permissions this license grants."
        }
      },
      "required": [
        "color",
        "description",
        "grants",
        "name"
      ],
      "description": "Type for an entity create object."
    },
    "EntityExtension<Role>": {
      "$ref": "#/definitions/EntityOmit%3CRole%3E",
      "description": "Type for creation method"
    },
    "EntityOmit<Role>": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the license."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the license."
        },
        "color": {
          "type": "string",
          "description": "Color that represents this role."
        },
        "grants": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GrantString"
          },
          "description": "Permissions this license grants."
        }
      },
      "required": [
        "name",
        "description",
        "color",
        "grants"
      ],
      "additionalProperties": false,
      "description": "Omitted types of the core Entity interface."
    },
    "GrantString": {
      "type": "string",
      "description": "Role grant string."
    },
    "EntityCreate<Session>": {
      "type": "object",
      "properties": {
        "$subject": {
          "$ref": "#/definitions/Reference",
          "description": "Subject of the session. Typically a user id."
        },
        "iat": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Possible \"Issued At\" property when decoding."
        },
        "exp": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Expiration date (numeric)."
        },
        "admin": {
          "type": "boolean",
          "description": "Flag that determines if this is an administrative session."
        },
        "tokens": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TokenString"
          },
          "description": "Tokens this session possesses"
        },
        "name": {
          "type": "string",
          "description": "Display name."
        },
        "org": {
          "type": "string",
          "description": "Organization."
        },
        "avatar": {
          "anyOf": [
            {
              "$ref": "#/definitions/SURL"
            },
            {
              "type": "null"
            }
          ],
          "description": "Avatar image url."
        }
      },
      "required": [
        "$subject",
        "admin",
        "avatar",
        "exp",
        "name",
        "org",
        "tokens"
      ],
      "description": "Type for an entity create object."
    },
    "EntityExtension<Session>": {
      "$ref": "#/definitions/EntityOmit%3CSession%3E",
      "description": "Type for creation method"
    },
    "EntityOmit<Session>": {
      "type": "object",
      "properties": {
        "$subject": {
          "$ref": "#/definitions/Reference",
          "description": "Subject of the session. Typically a user id."
        },
        "iat": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Possible \"Issued At\" property when decoding."
        },
        "exp": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Expiration date (numeric)."
        },
        "admin": {
          "type": "boolean",
          "description": "Flag that determines if this is an administrative session."
        },
        "tokens": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TokenString"
          },
          "description": "Tokens this session possesses"
        },
        "name": {
          "type": "string",
          "description": "Display name."
        },
        "org": {
          "type": "string",
          "description": "Organization."
        },
        "avatar": {
          "anyOf": [
            {
              "$ref": "#/definitions/SURL"
            },
            {
              "type": "null"
            }
          ],
          "description": "Avatar image url."
        }
      },
      "required": [
        "$subject",
        "exp",
        "admin",
        "tokens",
        "name",
        "org",
        "avatar"
      ],
      "additionalProperties": false,
      "description": "Omitted types of the core Entity interface."
    },
    "DateNumeric": {
      "type": "number",
      "description": "A string that represents a JSON Date."
    },
    "TokenString": {
      "type": "string",
      "description": "String representation of a token that contains an encoded jwt."
    },
    "SURL": {
      "type": "string",
      "description": "A string that represents a URL. Named SURL (String URL) so it's not confused with the URL object type."
    },
    "EntityCreate<Profile>": {
      "type": "object",
      "properties": {
        "$user": {
          "$ref": "#/definitions/Reference%3CUser%3E",
          "description": "User this profile is associated with."
        },
        "nameDisplay": {
          "type": "string",
          "description": "Display name for the profile."
        },
        "nameGiven": {
          "type": "string",
          "description": "Given/First name"
        },
        "nameFamily": {
          "type": "string",
          "description": "Family/Last name",
          "title": "name-family"
        },
        "birthDate": {
          "type": "string",
          "description": "Date of birth."
        },
        "avatar": {
          "$ref": "#/definitions/SURL",
          "description": "Avatar image"
        }
      },
      "required": [
        "$user",
        "nameDisplay"
      ],
      "description": "Type for an entity create object."
    },
    "EntityExtension<Profile>": {
      "$ref": "#/definitions/EntityOmit%3CProfile%3E",
      "description": "Type for creation method"
    },
    "EntityOmit<Profile>": {
      "type": "object",
      "properties": {
        "$user": {
          "$ref": "#/definitions/Reference%3CUser%3E",
          "description": "User this profile is associated with."
        },
        "nameDisplay": {
          "type": "string",
          "description": "Display name for the profile."
        },
        "nameGiven": {
          "type": "string",
          "description": "Given/First name"
        },
        "nameFamily": {
          "type": "string",
          "description": "Family/Last name",
          "title": "name-family"
        },
        "birthDate": {
          "type": "string",
          "description": "Date of birth."
        },
        "avatar": {
          "$ref": "#/definitions/SURL",
          "description": "Avatar image"
        }
      },
      "required": [
        "$user",
        "nameDisplay"
      ],
      "additionalProperties": false,
      "description": "Omitted types of the core Entity interface."
    },
    "Reference<User>": {
      "type": "string",
      "description": "A id reference to another document."
    },
    "StateUpdate": {
      "type": "object",
      "properties": {
        "user": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdate%3CUser%3E"
          }
        },
        "role": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdate%3CRole%3E"
          }
        },
        "session": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdate%3CSession%3E"
          }
        },
        "profile": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/EntityUpdate%3CProfile%3E"
          }
        }
      },
      "additionalProperties": false
    },
    "EntityUpdate<User>": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name for the user.",
          "default": ""
        },
        "email": {
          "type": "string",
          "description": "Email address",
          "default": ""
        },
        "password": {
          "type": [
            "string",
            "null"
          ],
          "description": "User password. A null password means another form of auth must be used.",
          "default": "null"
        },
        "organization": {
          "type": "string",
          "description": "Organization this order belongs to."
        },
        "$roles": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Reference%3CRole%3E"
          },
          "description": "Roles this user has been given."
        },
        "$permits": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Reference%3CPermit%3E"
          },
          "description": "Special-case permits this user has been bestowed."
        }
      },
      "description": "Type for an entity update object."
    },
    "EntityPartial<User>": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name for the user.",
          "default": ""
        },
        "email": {
          "type": "string",
          "description": "Email address",
          "default": ""
        },
        "password": {
          "type": [
            "string",
            "null"
          ],
          "description": "User password. A null password means another form of auth must be used.",
          "default": "null"
        },
        "organization": {
          "type": "string",
          "description": "Organization this order belongs to."
        },
        "$roles": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Reference%3CRole%3E"
          },
          "description": "Roles this user has been given."
        },
        "$permits": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Reference%3CPermit%3E"
          },
          "description": "Special-case permits this user has been bestowed."
        }
      },
      "additionalProperties": false,
      "description": "Type for an partial method."
    },
    "EntityUpdate<Role>": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the license."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the license."
        },
        "color": {
          "type": "string",
          "description": "Color that represents this role."
        },
        "grants": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GrantString"
          },
          "description": "Permissions this license grants."
        }
      },
      "description": "Type for an entity update object."
    },
    "EntityPartial<Role>": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the license."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the license."
        },
        "color": {
          "type": "string",
          "description": "Color that represents this role."
        },
        "grants": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GrantString"
          },
          "description": "Permissions this license grants."
        }
      },
      "additionalProperties": false,
      "description": "Type for an partial method."
    },
    "EntityUpdate<Session>": {
      "type": "object",
      "properties": {
        "$subject": {
          "$ref": "#/definitions/Reference",
          "description": "Subject of the session. Typically a user id."
        },
        "iat": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Possible \"Issued At\" property when decoding."
        },
        "exp": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Expiration date (numeric)."
        },
        "admin": {
          "type": "boolean",
          "description": "Flag that determines if this is an administrative session."
        },
        "tokens": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TokenString"
          },
          "description": "Tokens this session possesses"
        },
        "name": {
          "type": "string",
          "description": "Display name."
        },
        "org": {
          "type": "string",
          "description": "Organization."
        },
        "avatar": {
          "anyOf": [
            {
              "$ref": "#/definitions/SURL"
            },
            {
              "type": "null"
            }
          ],
          "description": "Avatar image url."
        }
      },
      "description": "Type for an entity update object."
    },
    "EntityPartial<Session>": {
      "type": "object",
      "properties": {
        "$subject": {
          "$ref": "#/definitions/Reference",
          "description": "Subject of the session. Typically a user id."
        },
        "iat": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Possible \"Issued At\" property when decoding."
        },
        "exp": {
          "$ref": "#/definitions/DateNumeric",
          "description": "Expiration date (numeric)."
        },
        "admin": {
          "type": "boolean",
          "description": "Flag that determines if this is an administrative session."
        },
        "tokens": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TokenString"
          },
          "description": "Tokens this session possesses"
        },
        "name": {
          "type": "string",
          "description": "Display name."
        },
        "org": {
          "type": "string",
          "description": "Organization."
        },
        "avatar": {
          "anyOf": [
            {
              "$ref": "#/definitions/SURL"
            },
            {
              "type": "null"
            }
          ],
          "description": "Avatar image url."
        }
      },
      "additionalProperties": false,
      "description": "Type for an partial method."
    },
    "EntityUpdate<Profile>": {
      "type": "object",
      "properties": {
        "$user": {
          "$ref": "#/definitions/Reference%3CUser%3E",
          "description": "User this profile is associated with."
        },
        "nameDisplay": {
          "type": "string",
          "description": "Display name for the profile."
        },
        "nameGiven": {
          "type": "string",
          "description": "Given/First name"
        },
        "nameFamily": {
          "type": "string",
          "description": "Family/Last name",
          "title": "name-family"
        },
        "birthDate": {
          "type": "string",
          "description": "Date of birth."
        },
        "avatar": {
          "$ref": "#/definitions/SURL",
          "description": "Avatar image"
        }
      },
      "description": "Type for an entity update object."
    },
    "EntityPartial<Profile>": {
      "type": "object",
      "properties": {
        "$user": {
          "$ref": "#/definitions/Reference%3CUser%3E",
          "description": "User this profile is associated with."
        },
        "nameDisplay": {
          "type": "string",
          "description": "Display name for the profile."
        },
        "nameGiven": {
          "type": "string",
          "description": "Given/First name"
        },
        "nameFamily": {
          "type": "string",
          "description": "Family/Last name",
          "title": "name-family"
        },
        "birthDate": {
          "type": "string",
          "description": "Date of birth."
        },
        "avatar": {
          "$ref": "#/definitions/SURL",
          "description": "Avatar image"
        }
      },
      "additionalProperties": false,
      "description": "Type for an partial method."
    }
  }
}
